{{#question}}
<script>
    $(function(){
        $('#pl-symbolic-input-{{uuid}} [data-toggle="popover"]').popover({
            sanitize: false,
            container: 'body',
            template: '<div class="popover pl-symbolic-input-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',
        });
    });
</script>

{{#inline}}<span class="form-inline d-inline-block ml-2">{{/inline}}
    <span id="pl-symbolic-input-{{uuid}}" class="input-group pl-symbolic-input">
        {{#label}}
        <span class="input-group-prepend">
            <span class="input-group-text">{{label}}</span>
        </span>
        {{/label}}
        <input name="{{name}}" type="text" class="form-control" size="35" {{^editable}}disabled{{/editable}} {{#raw_submitted_answer}}value="{{raw_submitted_answer}}"{{/raw_submitted_answer}} placeholder="{{shortinfo}}" />
        <span class="input-group-append">
            <a role="button" class="btn btn-light border" data-toggle="popover" data-html="true" title="Symbolic" data-content="{{info}}" data-placement="auto" data-trigger="focus" tabindex="0">
                <i class="fa fa-question-circle" aria-hidden="true"></i>
                {{#correct}}&nbsp;<span class="badge badge-success"><i class="fa fa-check" aria-hidden="true"></i> 100%</span>{{/correct}}
                {{#partial}}&nbsp;<span class="badge badge-warning"><i class="fa fa-circle-o" aria-hidden="true"></i> {{partial}}%</span>{{/partial}}
                {{#incorrect}}&nbsp;<span class="badge badge-danger"><i class="fa fa-times" aria-hidden="true"></i> 0%</span>{{/incorrect}}
            </a>
        </span>
    </span>
{{#inline}}</span>{{/inline}}
{{/question}}


{{#submission}}
{{#inline}}<span class="d-inline-block">{{/inline}}
{{#error}}
        
<script>
    $(function(){
        $('#pl-symbolic-input-submission-{{uuid}} [data-toggle="popover"]').popover({
            sanitize: false,
            container: 'body',
            template: '<div class="popover pl-symbolic-input-popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',
        });

        $('#pl-symbolic-input-submission-{{uuid}} [data-toggle="popover"]').on('shown.bs.popover', function () {
            MathJax.typesetPromise();
        });
    });
</script>
<span id="pl-symbolic-input-submission-{{uuid}}">

{{#parse_error}}
    {{#label}}<span>{{label}}</span>{{/label}}
    {{#raw_submitted_answer}}<code class="user-output-invalid">{{raw_submitted_answer}}</code>{{/raw_submitted_answer}}
    
    <span class="badge text-danger badge-invalid"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i> Invalid</span>
    
    <a href="javascript:void(0);" role="button" class="btn btn-sm btn-secondary small border" data-placement="auto" data-trigger="focus" data-toggle="popover" data-html="true" style="margin-left: 5px" title="Format Error" tabindex="0" data-content="{{parse_error}}"> Why <i class="fa fa-question-circle" aria-hidden="true"></i></a>
{{/parse_error}}
{{#missing_input}}
    {{#label}}<span>{{label}}</span>{{/label}}

    <span class="badge text-dark badge-missing-input"><i class="fa fa-question-circle" aria-hidden="true"></i> Missing Input</span>
    
    <a href="javascript:void(0);" role="button" class="btn btn-sm btn-secondary small border" data-placement="auto" data-trigger="focus" data-toggle="popover" data-html="true" style="margin-left: 5px" title="Missing Input" tabindex="0" data-content="There is no submitted value for this field.  This may have happened because the question was changed after the answer was submitted."> Why <i class="fa fa-question-circle" aria-hidden="true"></i>
    </a>
{{/missing_input}}
    
</span>

{{/error}}
{{^error}}
{{#label}}<span>{{label}}</span>{{/label}}
${{a_sub}}$
{{#correct}}<span class="badge badge-success"><i class="fa fa-check" aria-hidden="true"></i> 100%</span>{{/correct}}
{{#partial}}<span class="badge badge-warning"><i class="fa fa-circle-o" aria-hidden="true"></i> {{partial}}%</span>{{/partial}}
{{#incorrect}}<span class="badge badge-danger"><i class="fa fa-times" aria-hidden="true"></i> 0%</span>{{/incorrect}}
{{/error}}
{{#inline}}</span>{{/inline}}
{{/submission}}

{{#answer}}
{{#label}}<span>{{label}}</span>{{/label}}
${{a_tru}}$
{{/answer}}

{{#format}}
<p>Your answer must be a symbolic expression. All numbers must be rational - so, <code>1/2</code> instead of <code>0.5</code>.
{{^allow_complex}}Complex numbers are not allowed.{{/allow_complex}}</p>
    
<h5><small class='text-uppercase'>Allowable Operators</small></h5>
<pre>{{operators}}</pre>
<p>All operations must be explicit:</p>

<p> Example <i>valid</i> inputs: <code class="user-output">2*3</code> &nbsp; <code class="user-output">cos(1)</code> </p>
<p> Example <i>invalid</i> inputs: <code class="user-output">2(3)</code> &nbsp; <code class="user-output">cos 1</code> </p>

<p>Note that either <code>^</code> or <code>**</code> can be used for exponentiation.</p>
<h5><small class='text-uppercase'>Allowable Constants</small></h5>
<pre>{{constants}}</pre>{{#variables}}
{{#allow_complex}}<p>Either <code>i</code> or <code>j</code> can be used to denote the imaginary unit. Examples of valid complex numbers are <code>1 + 2 * i</code> and <code>-3 * j</code>.</p>{{/allow_complex}}
<h5><small class='text-uppercase'>Allowable Variables</small></h5>
<pre>{{variables}}</pre>{{/variables}}
{{/format}}

{{#shortformat}}
symbolic expression
{{/shortformat}}

{{#format_error}}
    <hr>
    {{{ format_string }}}
{{/format_error}}
